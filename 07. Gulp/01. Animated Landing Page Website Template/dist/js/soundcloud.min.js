!function(){var t=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);window.soundcloud={version:"0.1",debug:!1,_listeners:[],_redispatch:function(e,n,t){var a,i=this._listeners[e]||[],s="soundcloud:"+e;try{a=this.getPlayer(n)}catch(a){return void(this.debug&&window.console&&console.error("unable to dispatch widget event "+e+" for the widget id "+n,t,a))}window.jQuery?jQuery(a).trigger(s,[t]):window.Prototype&&$(a).fire(s,t);for(var o=0,r=i.length;o<r;o+=1)i[o].apply(a,[a,t]);this.debug&&window.console&&console.log(s,e,n,t)},addEventListener:function(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)},removeEventListener:function(e,n){for(var t=this._listeners[e]||[],a=0,i=t.length;a<i;a+=1)t[a]===n&&t.splice(a,1)},getPlayer:function(e){var n;try{if(!e)throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";if(n=(t?window:document)[e]){if(n.api_getFlashId)return n;throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code"}throw"The SoundCloud Widget with an id "+e+" couldn't be found"}catch(e){throw console&&console.error&&console.error(e),e}},onPlayerReady:function(e,n){this._redispatch("onPlayerReady",e,n)},onMediaStart:function(e,n){this._redispatch("onMediaStart",e,n)},onMediaEnd:function(e,n){this._redispatch("onMediaEnd",e,n)},onMediaPlay:function(e,n){this._redispatch("onMediaPlay",e,n)},onMediaPause:function(e,n){this._redispatch("onMediaPause",e,n)},onMediaBuffering:function(e,n){this._redispatch("onMediaBuffering",e,n)},onMediaSeek:function(e,n){this._redispatch("onMediaSeek",e,n)},onMediaDoneBuffering:function(e,n){this._redispatch("onMediaDoneBuffering",e,n)},onPlayerError:function(e,n){this._redispatch("onPlayerError",e,n)}}}(),function(l){function c(e){e=e;var e={h:Math.floor(e/36e5),m:Math.floor(e/6e4%60),s:Math.floor(e/1e3%60)},n=[];return 0<e.h&&n.push(e.h),n.push(e.m<10&&0<e.h?"0"+e.m:e.m),n.push(e.s<10?"0"+e.s:e.s),n.join(".")}function d(e){try{window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}catch(e){}}function u(e,s,n){function o(n){e=n.url,a=w,t=(C||/^https/i.test(e)?"https":"http")+"://api."+M+"/resolve?url=",a="format=json&consumer_key="+a+"&callback=?",C&&(e=e.replace(/^http:/,"https:"));var e,t,a,i=/api\./.test(e)?e+"?"+a:t+e+"&"+a;l.getJSON(i,function(e){r+=1,e.tracks?c.tracks=c.tracks.concat(e.tracks):e.duration?(e.permalink_url=n.url,c.tracks.push(e)):e.creator?s.push({url:e.uri+"/tracks"}):e.username?/favorites/.test(n.url)?s.push({url:e.uri+"/favorites"}):s.push({url:e.uri+"/tracks"}):l.isArray(e)&&(c.tracks=c.tracks.concat(e)),s[r]?o(s[r]):c.node.trigger({type:"onTrackDataLoaded",playerObj:c,url:i})})}var r=0,c={node:e,tracks:[]};w=n,L.push(c),o(s[r])}function p(e,n){return n?'<div class="sc-loading-artwork">Loading Artwork</div>':e.artwork_url?'<img src="'+e.artwork_url.replace("-large","-t500x500")+'"/>':'<div class="sc-no-artwork">No Artwork</div>'}function f(e,t){l(".sc-info",e).each(function(e){l("h3",this).html('<a href="'+t.permalink_url+'">'+t.title+"</a>"),l("h4",this).html('by <a href="'+t.user.permalink_url+'">'+t.user.username+"</a>"),l("p",this).html(t.description||"no Description")}),l(".sc-artwork-list li",e).each(function(e){var n=l(this);n.data("sc-track")===t?n.addClass("active").find(".sc-loading-artwork").each(function(e){l(this).removeClass("sc-loading-artwork").html(p(t,!1))}):n.removeClass("active")}),l(".sc-duration",e).html(c(t.duration)),l(".sc-waveform-container",e).html('<img src="'+t.waveform_url+'" />'),e.trigger("onPlayerTrackSwitch.scPlayer",[t])}function i(e,n){n&&l("div.sc-player.playing").removeClass("playing"),l(e).toggleClass("playing",n).trigger(n?"onPlayerPlay":"onPlayerPause")}function h(e,n){var n=L[l(e).data("sc-player").id].tracks[n||0];f(e,n),$={$buffer:l(".sc-buffer",e),$played:l(".sc-played",e),position:l(".sc-position",e)[0]},i(e,!0),n=(e=n).permalink_url,b===n?E.play():(b=n,E.load(e,w))}function n(e){var e=Math.floor(e),n=new Date;n.setTime(n.getTime()+31536e6),j=e,document.cookie=["scPlayer_volume=",e,"; expires=",n.toUTCString(),'; path="/"'].join(""),E.setVolume(j)}function t(e,n){var t=(e=l(e).closest(".sc-time-span")).find(".sc-buffer"),a=e.find(".sc-waveform-container img"),e=e.closest(".sc-player"),t=Math.min(t.width(),n-a.offset().left)/a.width(),n=e;E.seek(t),l(n).trigger("onPlayerSeek"),i(n,!0)}function a(e){1===e.targetTouches.length&&(t(e.target,e.targetTouches&&e.targetTouches.length&&e.targetTouches[0].clientX),e.preventDefault())}function s(e,n){function t(e){T.trigger({type:"scPlayer:onVolumeChange",volume:(e=e.pageX,Math.floor((e-a)/i*100))})}var a=(e=l(e)).offset().left,i=e.width();e.bind("mousemove.sc-player",t),t(n)}var o,r,y,e,g,v,m,k,P,w,b,_,T=l(document),M="soundcloud.com",C="https:"===document.location.protocol,E=(e=function(){var e=!1;try{var n=new Audio,e=n.canPlayType&&/maybe|probably/.test(n.canPlayType("audio/mpeg"))}catch(e){}return e}(),g=function(){T.trigger("scPlayer:onAudioReady")},v=function(){T.trigger("scPlayer:onMediaPlay")},m=function(){T.trigger("scPlayer:onMediaPause")},k=function(){T.trigger("scPlayer:onMediaEnd")},P=function(e){T.trigger({type:"scPlayer:onMediaBuffering",percent:e})},e?(y=new Audio,l('<div class="sc-player-engine-container"></div>').appendTo(document.body).append(y),y.addEventListener("play",v,!1),y.addEventListener("pause",m,!1),y.addEventListener("timeupdate",function(e){var e=e.target,n=(e.buffered.length&&e.buffered.end(0))/e.duration*100;P(n),e.currentTime===e.duration&&k()},!1),y.addEventListener("progress",function(e){e=e.target,e=(e.buffered.length&&e.buffered.end(0))/e.duration*100;P(e)},!1),{load:function(e,n){y.pause(),y.src=e.stream_url+(/\?/.test(e.stream_url)?"&":"?")+"consumer_key="+n,y.load(),y.play()},play:function(){y.play()},pause:function(){y.pause()},stop:function(){y.currentTime&&(y.currentTime=0,y.pause())},seek:function(e){y.currentTime=y.duration*e,y.play()},getDuration:function(){return 1e3*y.duration},getPosition:function(){return 1e3*y.currentTime},setVolume:function(e){y.volume=e/100}}):(r="scPlayerEngine",soundcloud.addEventListener("onPlayerReady",function(e,n){o=soundcloud.getPlayer(r),g()}),soundcloud.addEventListener("onMediaEnd",k),soundcloud.addEventListener("onMediaBuffering",function(e,n){P(n.percent)}),soundcloud.addEventListener("onMediaPlay",v),soundcloud.addEventListener("onMediaPause",m),{load:function(e){var e=e.uri;o?o.api_load(e):l('<div class="sc-player-engine-container"></div>').appendTo(document.body).html((e=(C?"https":"http")+"://player."+M+"/player.swf?url="+e+"&amp;enable_api=true&amp;player_type=engine&amp;object_id="+r,l.browser.msie?'<object height="100%" width="100%" id="'+r+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+e+'"><param name="movie" value="'+e+'" /><param name="allowscriptaccess" value="always" /></object>':'<object height="100%" width="100%" id="'+r+'"><embed allowscriptaccess="always" height="100%" width="100%" src="'+e+'" type="application/x-shockwave-flash" name="'+r+'" /></object>'))},play:function(){o&&o.api_play()},pause:function(){o&&o.api_pause()},stop:function(){o&&o.api_stop()},seek:function(e){o&&o.api_seekTo(o.api_getTrackDuration()*e)},getDuration:function(){return o&&o.api_getTrackDuration&&1e3*o.api_getTrackDuration()},getPosition:function(){return o&&o.api_getTrackPosition&&1e3*o.api_getTrackPosition()},setVolume:function(e){o&&o.api_setVolume&&o.api_setVolume(e)}})),D=!1,L=[],$={},j=function(){var e,n=80,t=document.cookie.split(";"),a=new RegExp("scPlayer_volume=(\\d+)");for(e in t)if(a.test(t[e])){n=parseInt(t[e].match(a)[1],10);break}return n}();T.bind("scPlayer:onAudioReady",function(e){d("onPlayerReady: audio engine is ready"),E.play(),n(j)}).bind("scPlayer:onMediaPlay",function(e){clearInterval(_),_=setInterval(function(){var e=E.getDuration(),n=E.getPosition(),t=n/e;$.$played.css("width",100*t+"%"),$.position.innerHTML=c(n),T.trigger({type:"onMediaTimeUpdate.scPlayer",duration:e,position:n,relative:t})},500)}).bind("scPlayer:onMediaPause",function(e){clearInterval(_),_=null}).bind("scPlayer:onVolumeChange",function(e){n(e.volume)}).bind("scPlayer:onMediaEnd",function(e){var n=$.$played.closest(".sc-player");$.$played.css("width","0%"),$.position.innerHTML=c(0),i(n,!1),E.stop(),n.trigger("onPlayerTrackFinish")}).bind("scPlayer:onMediaBuffering",function(e){$.$buffer.css("width",e.percent+"%")}),l.scPlayer=function(e,n){var a=l.extend({},l.scPlayer.defaults,e),e=L.length,n=n&&l(n),t=n[0].className.replace("sc-player",""),i=a.links||l.map(l("a",n).add(n.filter("a")),function(e){return{url:e.href,title:e.innerHTML}}),s=l('<div class="sc-player loading"></div>').data("sc-player",{id:e}),o=l('<ol class="sc-artwork-list"></ol>').appendTo(s),r=(l('<div class="sc-info"><h3></h3><h4></h4><p></p><a href="#" class="sc-info-close">X</a></div>').appendTo(s),l('<div class="sc-controls"></div>').appendTo(s),l('<ol class="sc-trackslist"></ol>').appendTo(s));return(t||a.customClass)&&s.addClass(t).addClass(a.customClass),s.find(".sc-controls").append('<a href="#play" class="sc-play">Play</a> <a href="#pause" class="sc-pause hidden">Pause</a>').end().append('<a href="#info" class="sc-info-toggle">Info</a>').append('<div class="sc-scrubber"></div>').find(".sc-scrubber").append('<div class="sc-volume-slider"><span class="sc-volume-status" style="width:'+j+'%"></span></div>').append('<div class="sc-time-span"><div class="sc-waveform-container"></div><div class="sc-buffer"></div><div class="sc-played"></div></div>').append('<div class="sc-time-indicators"><span class="sc-position"></span> | <span class="sc-duration"></span></div>'),u(s,i,a.apiKey),s.bind("onTrackDataLoaded.scPlayer",function(e){var n=e.playerObj.tracks;a.randomize&&((e=n).sort(function(){return 1-Math.floor(3*Math.random())}),n=e),l.each(n,function(e,n){var t=0===e;l('<li><a href="'+n.permalink_url+'">'+n.title+'</a><span class="sc-track-duration">'+c(n.duration)+"</span></li>").data("sc-track",{id:e}).toggleClass("active",t).appendTo(r),l("<li></li>").append(p(n,e>=a.loadArtworks)).appendTo(o).toggleClass("active",t).data("sc-track",n)}),s.each(function(){l.isFunction(a.beforeRender)&&a.beforeRender.call(this,n)}),l(".sc-duration",s)[0].innerHTML=c(n[0].duration),l(".sc-position",s)[0].innerHTML=c(0),f(s,n[0]),a.continuePlayback&&s.bind("onPlayerTrackFinish",function(e){var n=l(s);d("track finished get the next one"),($nextItem=($nextItem=l(".sc-trackslist li.active",n).next("li")).length?$nextItem:n.nextAll("div.sc-player:first").find(".sc-trackslist li.active")).click()}),s.removeClass("loading").trigger("onPlayerInit"),a.autoPlay&&!D&&(h(s),D=!0)}),n.each(function(e){l(this).replaceWith(s)}),s},l.scPlayer.stopAll=function(){l(".sc-player.playing a.sc-pause").click()},l.scPlayer.destroy=function(){l(".sc-player, .sc-player-engine-container").remove()},l.fn.scPlayer=function(e){return D=!1,this.each(function(){l.scPlayer(e,this)}),this},l.scPlayer.defaults=l.fn.scPlayer.defaults={customClass:null,beforeRender:function(e){l(this)},onDomReady:function(){l("a.sc-player, div.sc-player").scPlayer()},autoPlay:!1,continuePlayback:!0,randomize:!1,loadArtworks:5,apiKey:"htuiRd1JP11Ww0X72T1C3g"},l(document).on("click","a.sc-play, a.sc-pause",function(e){return l(this).closest(".sc-player").find("ol.sc-trackslist").find("li.active").click(),!1}),l(document).on("click","a.sc-info-toggle, a.sc-info-close",function(e){return l(this).closest(".sc-player").find(".sc-info").toggleClass("active").end().find("a.sc-info-toggle").toggleClass("active"),!1}),l(document).on("click",".sc-trackslist li",function(e){var n=l(this),t=n.closest(".sc-player"),a=n.data("sc-track").id;return t.is(":not(.playing)")||n.is(":not(.active)")?h(t,a):(i(t,!1),E.pause()),n.addClass("active").siblings("li").removeClass("active"),l(".artworks li",t).each(function(e){l(this).toggleClass("active",e===a)}),!1}),l(document).on("click",".sc-time-span",function(e){return t(this,e.pageX),!1}).on("touchstart",".sc-time-span",function(e){this.addEventListener("touchmove",a,!1),e.originalEvent.preventDefault()}).on("touchend",".sc-time-span",function(e){this.removeEventListener("touchmove",a,!1),e.originalEvent.preventDefault()});l(document).on("mousedown",".sc-volume-slider",function(e){s(this,e)}).on("mouseup",".sc-volume-slider",function(e){l(this).unbind("mousemove.sc-player")}),T.bind("scPlayer:onVolumeChange",function(e){l("span.sc-volume-status").css({width:e.volume+"%"})}),l(function(){l.isFunction(l.scPlayer.defaults.onDomReady)&&l.scPlayer.defaults.onDomReady()})}(jQuery),function(){var n=jQuery.fn.addClass;$.fn.addClass=function(){var e=n.apply(this,arguments);return $(this).trigger("classChanged"),e}}(),$(function(){$("div.sc-player").bind("classChanged",function(){var e;$(this).hasClass("playing")&&(e='<img class="rounded ae-3" src="'+$("div.sc-player.playing ol.sc-artwork-list li.active img").attr("src")+'" alt="Image Thumbnail" data-action="zoom"/>',$(this).parent().parent().parent().children(".image-96").html(e))})});